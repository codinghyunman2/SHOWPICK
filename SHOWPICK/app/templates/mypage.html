{% extends 'base.html' %}
{% block title %}Detail{% endblock title %}
{% load socialaccount %}
{% providers_media_js %}

{% block css %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'mypage.css' %}">
{% endblock css %}


{% block header %}
{% if user.is_authenticated %}
<h1>마이페이지</h1>
{% else %}
<h1>로그인</h1>
{% endif %}
{% endblock header %}

{% block content %}

<div class="container">
    {% if user.is_authenticated %}
    <div class="welcome">
        <img src="{% static 'mypage_user.svg' %}" alt="mypage_user">
        <p>안녕하세요, {{ user.username }}님!!</p>
    </div>

    <div class="user_info">
        <div class="basic_info">
            <h2>기본 정보</h2>
            <div class="gender_age">
                <p>성별/나이</p>
                <p>{{ custom_user.gender }}</p>
                <p>{{ custom_user.age }}</p>
            </div>

            <div class="email">
                <p>이메일</p>
                <p>{{ custom_user.email }}</p>
            </div>
            <div class="location">
                <p>지역</p>
                <p>{{ custom_user.location_gu }}</p>
                <p>{{ custom_user.location_dong }}</p>
            </div>
            <div class="mypage_edit_button">
                <a href="{% url 'mypage_edit' %}">내 정보 수정하기</a>
            </div>
        </div>

        <br>

        <div class="my_votes">
            <h2>나의 투표</h2>
        </div>
    </div>

    {% else %}
    <p>소비자 로그인</p>
    <img src="{% static 'login_user.svg' %}" alt="login_user">
    <p>로그인이 필요한 서비스입니다.</p>
    <div class="kakao login">
        <img src="{% static 'login_kakaotalk.svg' %}" alt="login_kakaotalk">
        <a class="kakao" href="{% provider_login_url 'kakao' %}">카카오 로그인</a>
    </div>
    {% endif %}
</div>
{% endblock content %}